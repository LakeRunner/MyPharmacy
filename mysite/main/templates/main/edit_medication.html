{% extends 'main/layout.html' %}
{% block content %}
    <form method="post" action="{% url 'edit_medication' pk=object.pk %}">
        {% csrf_token %}
        <div class="centered-content">{{ form.medication_name|escape }}</div>
        <div class="centered-content">{{ form.medication_description|escape }}</div>
        <div class="centered-content">{{ form.expiration_date|escape }}</div>
        <span class="centered-content">{{ form.error }}</span>
        <div class="centered-content">
            <button type="submit" class="common-button accept-button">Сохранить изменения</button>
        </div>
    </form>
    <script>
        const dateRangeInput = document.querySelector('#id_expiration_date');
        dateRangeInput.addEventListener('input', handleDateInput);
        function handleDateInput(event) {
            const value = event.target.value;
            if (value.length === 2 || value.length === 5) {
                event.target.value = value + '.';
            }
        }
    </script>
{% endblock %}